/*!
 * cloud-utils v1.0.7 
 * (c) 2017 liwb
 * A collection of utils
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.cloudUtils=t()}(this,function(){"use strict";function e(e,t){var r,n,o,i;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}if(i=Math.abs(r-n),o=Math.pow(10,Math.max(r,n)),i>0){var a=Math.pow(10,i);r>n?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*a):(e=Number(e.toString().replace(".",""))*a,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/o}function t(e,t){var r,n,o=0,i=0;try{o=e.toString().split(".")[1].length}catch(e){}try{i=t.toString().split(".")[1].length}catch(e){}return r=Number(e.toString().replace(".","")),n=Number(t.toString().replace(".","")),r/n*Math.pow(10,i-o)}function r(e,t){var r=0,n=e.toString(),o=t.toString();try{r+=n.split(".")[1].length}catch(e){}try{r+=o.split(".")[1].length}catch(e){}return Number(n.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,r)}function n(e,t){var r,n,o,i;try{r=e.toString().split(".")[1].length}catch(e){r=0}try{n=t.toString().split(".")[1].length}catch(e){n=0}return o=Math.pow(10,Math.max(r,n)),i=r>=n?r:n,((e*o-t*o)/o).toFixed(i)}function o(e,t){void 0===t&&(t=2);var r=!1;e<0&&(r=!0,e=Math.abs(e));var n=Math.floor(e),o=a(n),s=[];if(o>3){var c=Math.floor(o/8);if(c>=1){var u=Math.floor(n/Math.pow(10,8*c));s.push(i(u,e,8*c,t));for(var l=0;l<c;l++)s.push("\u4ebf");return r?"-"+s.join(""):s.join("")}return r?"-"+i(n,e,0,t):i(n,e,0,t)}return r?"-"+e:e}function i(e,t,r,n){var o=a(e);if(o>3){var i=o%8;return i>=5&&(i=4),Math.floor(t/Math.pow(10,i+r-n))/Math.pow(10,n)+"\u4e07"}return Math.floor(t/Math.pow(10,r-n))/Math.pow(10,n)}function a(e){for(var t=-1;e>=1;)t++,e/=10;return t}function s(e){var t=/^(((700|730|900|600|601|580)[\d]{3})|60[\d]{4})$/,r=/^(((000|002|200|300|080|031)[\d]{3}|00[\d]{4}))$/;return t.test(e)?e+=".SS":r.test(e)&&(e+=".SZ"),e}function c(e){var t=Object.keys(e).sort(),r=[];return t.forEach(function(t){r.push(t+"="+e[t])}),r.join("&")}function u(e,t){for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function l(e){if("string"!=typeof e)throw new Error("val");var t=e.length,r=/(\d{4})(?=\d)/g;return t<4?e:e.replace(r,"$1 ")}function f(e,t){void 0===e&&(e=new Date),void 0===t&&(t="yyyy-MM-dd HH:mm:ss"),e="number"==typeof e||"string"==typeof e?new Date(e):e;var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours()%12==0?12:e.getHours()%12,"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},n={0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661f\u671f":"\u5468":"")+n[e.getDay()+""]));for(var o in r)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[o]:("00"+r[o]).substr((""+r[o]).length)));return t}function d(e){function t(e){return e<10?"0"+e:e}e=parseInt(e);var r=Date.now(),n=(r-e)/1e3,o=new Date,i=Math.round(n/86400),a=Math.round(n/3600),s=Math.round(n/60),c=Math.round(n);return i>0&&i<2?i+"\u5929\u524d":i<=0&&a>0?a+"\u5c0f\u65f6\u524d":a<=0&&s>0?s+"\u5206\u949f\u524d":s<=0&&c>=0?"\u521a\u521a":(o.setTime(e),o.getFullYear()+"-"+t(o.getMonth()+1)+"-"+t(o.getDate())+" "+t(o.getHours())+":"+t(o.getMinutes()))}function g(e){if("string"!=typeof e)throw new Error("time\u6570\u636e\u7c7b\u578b\u5fc5\u987b\u662fstring");e.length>19&&(e=e.substring(0,19));var t,r,n,o,i,a=/-|\./g;return a.test(e)?t=e.replace(a,"/"):~e.indexOf("-")||(r=e.slice(0,4),n=e.slice(4,6),o=e.slice(6,8),i=e.slice(8),t=r+"/"+n+"/"+o+i),Math.round(new Date(t).getTime())}function p(e,t){return void 0===t&&(t=","),e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}function h(e,t){return void 0===t&&(t="****"),e.replace(/(\d{3})\d{4}(\d{4})/,"$1"+t+"$2")}function m(e){return"assets/images/copyfiles/"+e}function x(e){var t=new RegExp("(\\?|#|&)"+e+"=([^&#]*)(&|#|$)"),r=window.location.href.match(t);return null!==t?decodeURIComponent(r?r[2]:""):null}function v(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(t);return null!==r?decodeURIComponent(r[2]):null}function w(e){var t;for(t in e)return!1;return!0}function b(e){var t=x(e),r={};if(t)for(var n=t.split(";"),o=0,i=n.length;o<i;o++)if(-1!==n[o].indexOf(":")){var a=n[o].split(":");r[a[0]]=a[1]}return w(r)?"":r}function M(){var e=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:7&r|8).toString(16)})}function y(e,t){return Math.floor(Math.random()*(t-e+1))+e}function S(e){if("string"!=typeof e||0!==e.length){return e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/<br>/g,"\\n")}}function A(e){if("string"!=typeof e||0!==e.length){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/ /g,"&nbsp;").replace(/\"/g,"&quot;").replace(/\n/g,"<br>")}}function $(){if("undefined"!=typeof navigator){return-1!==navigator.userAgent.toLowerCase().indexOf("alipayclient")}}function E(){if("undefined"!=typeof navigator){return-1!==navigator.userAgent.toLowerCase().indexOf("micromessenger")}}function R(e){return/^\d{6}(19|2\d)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)?$/.test(e)}function D(e){return/^-?\d+\.?\d*$/.test(e)}function N(e){if("number"!=typeof e)throw new Error("val\u5fc5\u987b\u4e3anumber\u7c7b\u578b");return e%4==0&&e%100!=0||e%400==0}function C(e){return/^[a-z]+$/i.test(e)}function Z(e){return/(^[\u4E00-\u9FA5]{1}[A-Z0-9]{6}$)|(^[A-Z]{2}[A-Z0-9]{2}[A-Z0-9\u4E00-\u9FA5]{1}[A-Z0-9]{4}$)|(^[\u4E00-\u9FA5]{1}[A-Z0-9]{5}[\u6302\u5b66\u8b66\u519b\u6e2f\u6fb3]{1}$)|(^[A-Z]{2}[0-9]{5}$)|(^(08|38){1}[A-Z0-9]{4}[A-Z0-9\u6302\u5b66\u8b66\u519b\u6e2f\u6fb3]{1}$)/.test(e)}function O(e){return/^[1][34578]\d{9}$/.test(e)}function P(e){return/^\d{4}-\d{2}-\d{2}$/.test(e)}function V(e){return/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/i.test(e)}function z(e){return/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]{6,16}$/.test(e)}function k(e){return/^[1-9]\d{4,}$/.test(e)}function B(e){var t="((https?|s?ftp|irc[6s]?|git|afp|telnet|smb):\\/\\/)?",r="([a-z0-9]\\w*(\\:[\\S]+)?\\@)?",n=[t,r,"([a-z0-9]([\\w]*[a-z0-9])*\\.)?[a-z0-9]\\w*\\.[a-z]{2,}(\\.[a-z]{2,})?","(:\\d{1,5})?","(\\/\\S*)?"],o=[t,r,"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}","(:\\d{1,5})?","(\\/\\S*)?"],i=function(t){return new RegExp("^"+t.join("")+"$","i").test(e)};return i(n)||i(o)}function U(e){return/^\d{6}$/.test(e)}function L(e,t){if(e>=Math.pow(10,t))return e.toString();var r=Array(t+1).join("0")+e;return r.slice(r.length-t)}function j(e){var t=["Bytes","KB","MB"];if(0===e)return"n/a";var r=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(e/Math.pow(1024,r)).toFixed(1)+" "+t[r]}function I(e){var t,r,n;if(-1===e.indexOf(";base64,"))return t=e.split(","),r=t[0].split(":")[1],n=decodeURIComponent(t[1]),new Blob([n],{type:r});t=e.split(";base64,"),r=t[0].split(":")[1],n=window.atob(t[1]);for(var o=n.length,i=new Uint8Array(o),a=0;a<o;++a)i[a]=n.charCodeAt(a);return new Blob([i],{type:r})}function F(){var e=document.createElement("canvas").getContext("2d");return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)}function H(e,t){if(void 0===t&&(t=""),document.selection){document.selection.createRange().text=t}else if("number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd){var r=e.selectionStart,n=e.selectionEnd,o=r,i=e.value;e.value=i.substring(0,r)+t+i.substring(n,i.length),o+=t.length,e.selectionStart=e.selectionEnd=o}else e.value+=t}function _(){var e={},t=navigator.userAgent,r=t.match(/(Android);?[\s\/]+([\d.]+)?/),n=t.match(/(iPad).*OS\s([\d_]+)/),o=t.match(/(iPod)(.*OS\s([\d_]+))?/),i=!n&&t.match(/(iPhone\sOS)\s([\d_]+)/);return e.ios=e.android=e.iphone=e.ipad=e.androidChrome=!1,r&&(e.os="android",e.osVersion=r[2],e.android=!0,e.androidChrome=t.toLowerCase().indexOf("chrome")>=0),(n||i||o)&&(e.os="ios",e.ios=!0),i&&!o&&(e.osVersion=i[2].replace(/_/g,"."),e.iphone=!0),n&&(e.osVersion=n[2].replace(/_/g,"."),e.ipad=!0),o&&(e.osVersion=o[3]?o[3].replace(/_/g,"."):null,e.iphone=!0),e.ios&&e.osVersion&&t.indexOf("Version/")>=0&&"10"===e.osVersion.split(".")[0]&&(e.osVersion=t.toLowerCase().split("version/")[1].split(" ")[0]),e.webView=(i||n||o)&&t.match(/.*AppleWebKit(?!.*Safari)/i),e}function T(){var e,t=navigator.userAgent.toLowerCase(),r="UNKNOW",n=function(e){return e.test(t)};return n(/msie/)&&!n(/opera/)?(r="ie",e=/msie[\/|\s]*([\d+?\.?]+)/.exec(t)):!n(/webkit/)&&n(/gecko/)&&n(/firefox/)&&!n(/opera/)?(r="firefox",e=/firefox[\/|\s]*([\d+?\.?]+)/.exec(t)):n(/\bchrome\b/)?(r="chrome",e=/chrome[\/|\s]*([\d+?\.?]+)/.exec(t)):n(/applewebkit/)&&n(/safari/)?(r="safari",e=/version[\/|\s]*([\d+?\.?]+)/.exec(t)):n(/opera/)&&(r="opera",e=/version[\/|\s]*([\d+?.?]+)/.exec(t)||/opera[\/|\s]*([\d+?.?]+)/.exec(t)),{type:r,version:e&&e[1]?e[1]:"UNKNOW"}}function K(e,t){return e=Number(e),t=Number(t),Math.abs(t-e)/864e5}var W={encrypt:c,formatBankCard:l,formatMoney:p,formatPhone:h,getLocationHrefParam:x,getLocationSearchParam:v,getUrlNames:b,generateGUID:M,getRandomInt:y,htmlDecode:S,htmlEncode:A,getDevice:_,getBrowser:T,inAlipay:$,inWeixin:E,isCardId:R,isDigit:D,isEmptyObject:w,isLeapYear:N,isLetters:C,isLicenseNo:Z,isMobile:O,isValidDate:P,isValidEmail:V,isValidPassword:z,isValidQQ:k,isValidURI:B,isValidZipcode:U,accAdd:e,accDiv:t,accMul:r,accSub:n,preZeroFill:L,formatDate:f,formatTimeAgo:d,formatDateToTimeStamp:g,getDiffDay:K,bytesToSize:j,dataURLToBlob:I,getPixelRatio:F,insertAtCaret:H,addChineseUnit:o,appendStockSuffix:s,extend:u,formatCopyfilesPath:m};return W.version="1.0.7",W});